# INAV 9.0.0-RC3 Release - COMPLETE ✅

**Date:** 2025-12-07
**Status:** Published
**Release Manager:** Claude (AI) with Ray Morris

## Release Information

### Firmware
- **Version:** 9.0.0-RC3
- **Commit:** `edf50292e77620e2af428f04606313859c016978`
- **Artifacts:** 219 hex files
- **Source:** Nightly v9.0.0-20251207.178
- **GitHub:** https://github.com/iNavFlight/inav/releases/tag/9.0.0-RC3

### Configurator
- **Version:** 9.0.0-RC3
- **Commit:** `c2886074195671f3859cf09d40c7fdeec43143ce` (includes SITL update)
- **Artifacts:** 14 files (6 Linux, 4 macOS, 4 Windows)
- **CI Run:** #20000162108
- **GitHub:** https://github.com/iNavFlight/inav-configurator/releases/tag/9.0.0-RC3

## Changes in RC3

### Firmware (4 PRs)
- MSP2_INAV_SET_GVAR by @xznhj8129 (#11146)
- Add release creation guide by @sensei-hacker (#11152)
- Update LedStrip.md by @Barnabasek (#11159)
- Fix missing magnetometer support on NEXUSX target by @sensei-hacker (#11157)

### Configurator (10 PRs)
- Add flight axis override support to JavaScript Programming (#2461)
- JavaScript Programming and transpiler bug fixes (#2460, #2456, #2455, #2452, #2451, #2450, #2445)
- Update fetch to ESM import syntax (#2446)
- magnetometer.js error logging (#2447)
- **SITL binaries updated** from nightly v9.0.0-20251207.178 (PR #2464)

## Incompatible Settings (8.0.1 → 9.0.0)

### Renamed
- `controlrate_profile` → `use_control_profile`
- `mixer_pid_profile_linking` → `mixer_control_profile_linking`
- `osd_pan_servo_pwm2centideg` → `osd_pan_servo_range_decadegrees`

### Removed
- `reboot_character` (legacy MSP method removed)

## Quality Checks Performed

- [x] All planned PRs merged
- [x] CI passing on both branches
- [x] SITL binaries updated to match firmware
- [x] Firmware artifacts downloaded and renamed (219 files)
- [x] Configurator artifacts downloaded (correct commit with SITL)
- [x] macOS DMGs verified (no Windows contamination)
- [x] **SITL tested** (Linux x64 - launches and connects correctly)
- [x] **Incompatible settings identified** and documented in release notes
- [x] Release notes cumulative (RC2/RC1 + RC3 changes)
- [x] Pre-release flag set
- [x] All artifacts uploaded correctly

## Process Improvements Made

### 1. Incompatible Settings Workflow (NEW)
**Problem:** Users weren't warned about renamed/removed CLI settings
**Solution:**
- Created `find-incompatible-settings.sh` automation script
- Added "Identifying Incompatible Settings Changes" section to README
- Created release notes template for incompatibilities
- Integrated into standard release checklist

**Files:**
- `find-incompatible-settings.sh`
- `9.0.0-INCOMPATIBLE-SETTINGS.md`
- `INCOMPATIBLE-SETTINGS-WORKFLOW.md`

### 2. SITL Testing Documentation (NEW)
**Problem:** SITL testing wasn't documented as a required step
**Solution:**
- Added "Testing Artifacts Before Publishing" section to README
- Added SITL testing to release checklist
- Documented why, when, and how to test SITL

### 3. Configurator Artifact Fix
**Problem:** Initially downloaded artifacts from wrong commit (before SITL update)
**Solution:**
- Identified correct CI run (#20000162108) from SITL update branch
- Downloaded fresh artifacts with updated SITL binaries
- Verified SITL version matches firmware

### 4. Documentation Enhancements
- RC Release Pattern documented (cumulative approach)
- DMG verification workflow (Linux using 7z)
- Using `gh release create` to bypass local repo locks
- Artifact download timing explained

## Tools Created

1. **`verify-dmg-contents.sh`** - DMG verification on Linux
2. **`rename-firmware-for-release.sh`** - Generic firmware renaming
3. **`find-incompatible-settings.sh`** - Settings incompatibility detection

## Lessons Learned

1. **Always verify configurator artifacts include SITL update** - Check CI run matches SITL update commit, not pre-merge commit
2. **Test SITL before publishing** - Critical validation step now documented
3. **Incompatible settings must be documented** - Users need migration guide
4. **Cumulative release notes are standard** - RC3 = RC2 + new changes
5. **DMG verification prevents contamination** - 9.0.0 incident won't repeat

## Timeline

- **Planning:** Plan mode, researched RC pattern, identified commits
- **SITL Update:** Created PR #2464, merged to `c2886074`
- **Artifacts:** Downloaded firmware (219 files), configurator (14 files)
- **Verification:** DMG check, SITL test, incompatible settings analysis
- **Release:** Draft created, artifacts uploaded, manually reviewed
- **Published:** 2025-12-07

## Post-Release Tasks

- [ ] Announce on Discord
- [ ] Monitor for critical bugs
- [ ] Test SITL functionality with community feedback
- [ ] Update lessons learned if needed

## Documentation Updated

- [x] `README.md` - Added incompatible settings workflow, SITL testing, RC pattern
- [x] `9.0.0-Release-Notes.md` (wiki) - Added RC3 changes section
- [x] `9.0.0-RC3-firmware-release-notes.md` - Cumulative format
- [x] `9.0.0-RC3-configurator-release-notes.md` - Cumulative format
- [x] Checklist and status tracking documents created

## Success Metrics

✅ Zero build errors
✅ All artifacts verified before upload
✅ SITL tested and working
✅ Release notes complete and accurate
✅ Process improvements documented for future releases
✅ Published on schedule

---

**Next Release:** 9.0.0 Final (or 9.0.1 if critical bugs found)

**Release Manager Notes:**
This release went smoothly with several process improvements implemented. The new incompatible settings workflow and SITL testing documentation will make future releases faster and higher quality. All tools and documentation are in place for the next release manager.
